{% extends 'base/base.html' %}
{% load static %}
{% block content %}
<br>
<br>
<section class="section-content">
    <div class="container">
      
          <div class="jumbotron jumbotron-image color-grey-light">
            <div class="hero-wrap hero-bread overlay-gradient" style="background-image: url('{% static 'img/plp.png' %}');"> 
              <div class="container text-center white-text py-5">
                <h1 class="mb-3">Welcome to Your Shopping Cart</h1>
                <h5 class="breadcrumbs"><span class="mr-2"><a href="index.html" class="text-white"><b>Home</b></a></span> --> <span>Cart</span></h5>
              </div>
            </div>
          </div>
          <br>
        
<nav class="navbar navbar-main navbar-expand-lg border-bottom">
    <div class="container">
        <a class="navbar-brand" href="index.html">PLP Online Store</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main_nav" aria-controls="main_nav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="fas fa-bar"><i class="fas fa-bars"></i></span>
      </button>
  
      <div class="collapse navbar-collapse" id="main_nav">
        <ul class="navbar-nav  ml-md-auto">
            <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" aria-expanded="True"> <i class="fa fa-bars text-muted mr-2"></i> Categories </a>
            <div class="dropdown-menu dropdown-menu-right">
              <a class="dropdown-item" href="#">Machinery</a>
              <a class="dropdown-item" href="#">Electronics</a>
              <a class="dropdown-item" href="#">Home textile</a>
              <a class="dropdown-item" href="#">Home and kitchen</a>
              <a class="dropdown-item" href="#">Service and equipment</a>
              <a class="dropdown-item" href="#">Healthcare items</a>
              <a class="dropdown-item" href="#">Toys and Hobbies</a>
            </div>
          </li>
            <li class="nav-item">
             <a class="nav-link" href="#">Ready to ship</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Trade shows</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Services</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Sell with us</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#">Demo pages</a>
            <div class="dropdown-menu">
              <a class="dropdown-item" href="page-index.html">Main</a>
              <a class="dropdown-item" href="page-category.html">All category</a>
              <a class="dropdown-item" href="page-listing-large.html">Listing list</a>
              <a class="dropdown-item" href="page-listing-grid.html">Listing grid</a>
              <a class="dropdown-item" href="page-shopping-cart.html">Shopping cart</a>
              <a class="dropdown-item" href="page-detail-product.html">Item detail</a>
              <a class="dropdown-item" href="page-content.html">Info content</a>
              <a class="dropdown-item" href="page-user-login.html">Page login</a>
              <a class="dropdown-item" href="page-user-register.html">Page register</a>
              <a class="dropdown-item disabled text-muted" href="#">More components</a>
            </div>
          </li>
        </ul>
        <ul class="navbar-nav ml-md-auto">
              <li class="nav-item">
              <a class="nav-link" href="#">Get the app</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="http://example.com" data-toggle="dropdown">English</a>
              <div class="dropdown-menu dropdown-menu-right">
                <a class="dropdown-item" href="#">Russian</a>
                <a class="dropdown-item" href="#">French</a>
                <a class="dropdown-item" href="#">Spanish</a>
                <a class="dropdown-item" href="#">Chinese</a>
              </div>
            </li>
         </ul>
      </div> <!-- collapse .// -->
    </div> <!-- container .// -->
  </nav>
    </div>
</section>

<!--Section: Block Content-->
<section class="content-container">
<div class="container"> 

<br/>
<br/>
<!--Section: Block Content-->
<section>

  <!--Grid row-->
  <div class="row">

    <!--Grid column-->
    <div class="col-lg-8">

      <!-- Card -->
      <div class="card wish-list mb-3">
        <div class="card-body">
          {% if not cart_items %}
          <h5 class="mb-4">Cart (<span></span> Empty)</h5>
          {% else %}
          {% for cart_item in cart_items %}

          <div class="row mb-4">
            <div class="col-md-5 col-lg-3 col-xl-3">
              <div class="view zoom overlay z-depth-1 rounded mb-3 mb-md-0">
                <img class="img-fluid w-100"
                  src="{{cart_item.product.imageURL}}" alt="Sample">
                <a href="cart_item.product.get_url">
                  <div class="mask waves-effect waves-light">
                    <img class="img-fluid w-100"
                      src="{{cart_item.product.imageURL}}">
                    <div class="mask rgba-black-slight waves-effect waves-light"></div>
                  </div>
                </a>
              </div>
            </div>
            <div class="col-md-7 col-lg-9 col-xl-9">
              <div>
                <div class="d-flex justify-content-between">
                  <div>
                    <h5>{{cart_item.product.name}}</h5>
                    <p class="mb-3 text-muted text-uppercase small">SKU - {{cart_item.product.id}}</p>
                    <p class="mb-2 text-muted text-uppercase small">Price : R{{cart_item.product.price}}</p>
                    
                    <p class="mb-3 text-muted text-uppercase small">Quantity X Price: {{cart_item.quantity}} x R {{cart_item.product.price}}</p>
                  </div>
                  <div>
                    {% if cart_item.quantity < cart_item.product.stock %}
                    <div class="def-number-input number-input safari_only mb-0 w-100">
                      <div class="form-group col-md flex-grow-0">
                        <div class="input-group mb-3 input-spinner">
                          <div class="input-group-prepend">
                            <a href="{% url 'add_cart' cart_item.product.id %}"  class="btn btn-light" type="button" id="button-plus"> + </a>
                          </div>
                          
                          
                          <div class="input-group-append">
                            <a class="btn btn-light" href="{% url 'cart_delete' cart_item.product.id %}" type="button" id="button-minus"> - </a>
                          </div>
                        </div>
                    </div>
                    </div>
                    {% else %}
                    <div class="def-number-input number-input safari_only mb-0 w-100">
                      <div class="form-group col-md flex-grow-0">
                        <div class="input-group mb-3 input-spinner">
                          <div class="input-group-prepend">
                            <a href="{% url 'add_cart' cart_item.product.id %}"  class="btn btn-light" type="button" id="button-plus"> + </a>
                          </div>
                          
                          
                          <div class="input-group-append">
                            <a href="{% url 'cart_delete' cart_item.product.id %}" class="btn btn-light" type="button" id="button-minus"> - </a>
                          </div>
                        </div>
                    </div>
                    </div>
                    {% endif %}
                    <small id="passwordHelpBlock" class="form-text text-muted text-center">
                      (Note, 1 piece)
                    </small>
                  </div>
                </div>
                <div class="d-flex justify-content-between align-items-center">
                  <div>
                    <a href="{% url 'cart_product_remove' cart_item.product.id %}" type="button" class="card-link-secondary small text-uppercase mr-3"><i
                        class="fas fa-trash-alt mr-1"></i> Remove item </a>
                    <a href="#!" type="button" class="card-link-secondary small text-uppercase"><i
                        class="fas fa-heart mr-1"></i> Move to wish list </a>
                  </div>
                  <p class="mb-0"><span><strong>R{{cart_item.product.sub_total}}</strong></span></p>
                </div>
              </div>
            </div>
          </div>
          
          <hr class="mb-4">
          {% endfor %}
            {% endif %}
          <p class="text-primary mb-0"><i class="fas fa-info-circle mr-1"></i> Do not delay the purchase, adding
            items to your cart does not mean booking them.</p>
            
        </div>
      </div>
      <!-- Card -->

      <!-- Card -->
      <div class="card mb-3">
        <div class="card-body">

          <h5 class="mb-4">Expected shipping delivery</h5>

          <p class="mb-0"> Thu., 12.03. - Mon., 16.03.</p>
        </div>
      </div>
      <!-- Card -->

      <!-- Card -->
      <div class="card mb-3">
        <div class="card-body">

          <h5 class="mb-4">We accept</h5>

          <img class="mr-2" width="45px"
            src="https://mdbootstrap.com/wp-content/plugins/woocommerce-gateway-stripe/assets/images/visa.svg"
            alt="Visa">
          <img class="mr-2" width="45px"
            src="https://mdbootstrap.com/wp-content/plugins/woocommerce-gateway-stripe/assets/images/amex.svg"
            alt="American Express">
          <img class="mr-2" width="45px"
            src="https://mdbootstrap.com/wp-content/plugins/woocommerce-gateway-stripe/assets/images/mastercard.svg"
            alt="Mastercard">
          <img class="mr-2" width="45px"
            src="https://z9t4u9f6.stackpathcdn.com/wp-content/plugins/woocommerce/includes/gateways/paypal/assets/images/paypal.png"
            alt="PayPal acceptance mark">

            
        </div>
      </div>
      <!-- Card -->

    </div>
    <!--Grid column-->

    <!--Grid column-->
    <div class="col-lg-4">

      <!-- Card -->
      <div class="card mb-3">
        <div class="card-body">

          <h5 class="mb-3">The total amount of</h5>

          <ul class="list-group list-group-flush">
            <li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0">
              Temporary amount
              <span>$25.98</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center px-0">
              Shipping
              
              <span>Gratis</span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3">
              <div>
                <strong>The total amount of</strong>
                <strong>
                  <p class="mb-0">(including VAT)</p>
                </strong>
              </div>
              <span><strong>R {{total}}</strong></span>
            </li>
          </ul>
          <form action="" method="POST">
            {% csrf_token %}
            <script
              src="https://checkout.stripe.com/checkout.js" class="stripe-button"
              data-key="{{ data_key }}"
              data-amount="{{ stripe_total }}"
              data-name="PLP Online Store"
              data-currency="ZAR"
              data-description="{{ description }}"
              data-image="https://stripe.com/img/documentation/checkout/marketplace.png"
              data-locale="auto"
              data-zip-code="true"
              data-billing-address = "true"
              data-shipping-address = "true">
            </script>
          </form>
          <button type="button" class="btn btn-primary btn-block waves-effect waves-light">go to checkout</button>

        </div>
      </div>
      <!-- Card -->
      <form action="{shopperResultUrl}" class="paymentWidgets" data-brands="VISA MASTER AMEX"></form>

      <!-- Card -->
      <div class="card mb-3">
        <div class="card-body">

          <a class="dark-grey-text d-flex justify-content-between" data-toggle="collapse" href="#collapseExample1"
            aria-expanded="false" aria-controls="collapseExample1">
            Add a discount code (optional)
            <span><i class="fas fa-chevron-down pt-1"></i></span>
          </a>

          <div class="collapse" id="collapseExample1">
            <div class="mt-3">
              <div class="md-form md-outline mb-0">
                <input type="text" id="discount-code1" class="form-control font-weight-light"
                  placeholder="Enter discount code">
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Card -->

    </div>
    <!--Grid column-->

  </div>
  <!--Grid row-->

</section>
<!--Section: Block Content-->


  
</section>
<!--Section: Block Content-->



<section class="ftco-section ftco-no-pt ftco-no-pb py-5 bg-light">
<div class="container py-4">
<div class="row d-flex justify-content-center py-5">
  <div class="col-md-6">
      <h2 style="font-size: 22px;" class="mb-0">Subcribe to our Newsletter</h2>
      <span>Get e-mail updates about our latest shops and special offers</span>
  </div>
  <div class="col-md-6 d-flex align-items-center">
    <form action="#" class="subscribe-form">
      <div class="form-group d-flex">
        <input type="text" class="form-control" placeholder="Enter email address">
        <input type="submit" value="Subscribe" class="submit px-3">
      </div>
    </form>
  </div>
  
</div>
</div>
</section>
<script src="https://test.letswhoosh.co.za/v1/paymentWidgets.js?checkoutId={checkoutId}"></script>
<script src="https://js.stripe.com/v3/"></script>

{% endblock content %}